if (self.CavalryLogger) { CavalryLogger.start_js(["yv5x+"]); }

__d("ComposerXAttachment",["ComposerXStore"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(){}var c=a.prototype;c.getRoot=function(){};c.initWithComponents=function(a){};c.cleanup=function(){};c.reset=function(){};c.getComponent=function(a){return b("ComposerXStore").get(this._composerID,a)};c.getComponentInstance=function(a){a=b("ComposerXStore").get(this._composerID,a);return a&&a.instance};c.canSwitchAway=function(){return!0};c.setComposerID=function(a){this._composerID=a};c.getComposerID=function(){return this._composerID};c.allowOGTagPreview=function(){return!1};return a}();Object.assign(a.prototype,{attachmentClassName:""});e.exports=a}),null);
__d("ComposerXAttachmentButtonBarState",["csx","cx","CSS","DOMQuery"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i={trackCityChanges:function(a){var b=a.getComponent("citysharericon");if(b)return b.instance.subscribe("change",function(){i.updateMessageBoxBarState(a)})},updateMessageBoxBarState:function(a){var c=a.getComponent("citysharericon");if(c){a=b("DOMQuery").find(a.getRoot(),"._1dsp");b("CSS").conditionClass(a,"_icv",!!c.instance.getValue())}}};e.exports=i}),null);
__d("ComposerXAttachmentPrefillMixin",["Event","InputSelection"],(function(a,b,c,d,e,f){a={_initPrefill:function(a,c){this._textArea=a,this._didInitialFocus=!1,this._prefill=c,this._prefill&&(this._focusListener=b("Event").listen(this._textArea,"focus",this._prefillOnFocus.bind(this)))},_resetPrefill:function(){this._didInitialFocus=!1},_prefillOnFocus:function(){!this._didInitialFocus&&this._prefill&&this._textArea.value===""&&(this._textArea.value=this._prefill,b("InputSelection").set(this._textArea,0,0)),this._didInitialFocus=!0}};e.exports=a}),null);
__d("ComposerXAttachmentUtils",["csx","Button","ComposerXController","DataStore","DOMQuery","Event","Focus","Keys","StickyPlaceholderInput","UserAgent_DEPRECATED"],(function(a,b,c,d,e,f,g){__p&&__p();var h="composer_fixed_placeholder";function i(a,c){b("DataStore").get(a.element,h,!1)||a.instance.setPlaceholder(c)}var j={initMentions:function(a,b,c,d){i(a,b.toString()),(!d||!d.dontFocusMentions)&&j.focusMentions(a),this.registerMentionsForComposerCancel(a,c)},focusMentions:function(a){a=b("DOMQuery").find(a.element,"textarea.input");b("Focus").set(a)},registerMentionsForComposerCancel:function(a,c){b("ComposerXController").registerConditionForComposerCancel(c,a.instance.hasChanges.bind(a.instance))},setValueForMentions:function(a,c){a=b("DOMQuery").find(a.element,"textarea.input");a.value=c},setStickyPlaceholderForMentions:function(a,b){i(a,b)},setPlaceholderIsFixed:function(a,c){b("DataStore").set(a.element,h,!!c)},setStickyPlaceholderForTypeahead:function(a,c){a=b("DOMQuery").find(a,".textInput");b("StickyPlaceholderInput").setPlaceholderText(a,c.toString())},listenForPostSubmission:function(a){b("Event").listen(a,"keydown",function(c){var d=c.getModifiers();d=b("UserAgent_DEPRECATED").osx()?d.meta:d.control;var e=b("DOMQuery").find(a.form,'._11b[type="submit"]');c.keyCode===b("Keys").RETURN&&d&&b("Button").isEnabled(e)&&(a.blur(),b("Event").fire(e,"click")&&b("Event").fire(a.form,"submit"),c.preventDefault())})}};e.exports=j}),null);
__d("AggregatedGroupStoryComposerTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:AggregatedGroupStoryComposerLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:AggregatedGroupStoryComposerLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:AggregatedGroupStoryComposerLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEvent=function(a){this.$1.event=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={event:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("FirstPhotoUploadLogger",["csx","DOM","Event","PagesComposerActionsLogger","PagesComposerPostActionsLoggerEvent"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={log:function(a,c,d){if(!c||!d)return;d=b("DOM").scry(d,"._yr");if(d.length!==0&&a!==b("PagesComposerPostActionsLoggerEvent").DRAG_PHOTO_TO_COMPOSER)return;b("PagesComposerActionsLogger").log({event:a,target_id:c})},bindClickUpload:function(a,c,d){b("Event").listen(c,"click",function(){this.log(b("PagesComposerPostActionsLoggerEvent").CLICK_UPLOAD_PHOTO_IN_PHOTO_TAB,d,a)}.bind(this))}};e.exports=a}),null);
__d("ComposerXDragDrop",["fbt","Promise","Arbiter","ClipboardPhotoUploader","ComposerXController","ComposerXDragDropUtils","ComposerXMediaUploadHandler","DragDropTarget","ErrorDialog","Event","FirstPhotoUploadLogger","PagesComposerPostActionsLoggerEvent","URI","isAnimatedGif"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i="/ajax/composerx/attachment/media/upload/",j="/ajax/composerx/attachment/video/upload/",k="/ajax/composerx/attachment/link/scraper/",l=function(a){a()};a=function(){"use strict";__p&&__p();function a(a,c,d,e){this._root=a,this._composerID=c,this._targetID=d,e=e||l,this._activatePasteHandler(),this._dragdrop=new(b("DragDropTarget"))(a).setOnFilesDropCallback(function(a){e(this._dropFiles.bind(this,a))}.bind(this)).setFileFilter(b("ComposerXDragDropUtils").filterImages).enable(),b("ComposerXDragDropUtils").handleDragEnterAndLeave(a),b("Arbiter").subscribe("composer/deactivateDragdrop",function(){this.deactivate()}.bind(this)),b("Arbiter").subscribe("composer/reactivateDragdrop",function(){this.reactivate()}.bind(this))}var c=a.prototype;c.enableURLDropping=function(){this._dragdrop.setOnURLDropCallback(this._onURLDrop.bind(this))};c.deactivate=function(){this._dragdrop.disable(),this._deactivatePasteHandler()};c.reactivate=function(){this._activatePasteHandler(),this._dragdrop.enable()};c._activatePasteHandler=function(){var a=this;if(this._pasteHandler)return;this._pasteHandler=b("Event").listen(this._root,"paste",function(c){c=b("ClipboardPhotoUploader").getImages(c);if(!c.length)return;a._uploadFiles(c,"copypaste")})};c._deactivatePasteHandler=function(){if(!this._pasteHandler)return;this._pasteHandler.remove();delete this._pasteHandler};c._uploadFiles=function(a,c,d){d?(b("ComposerXController").getAttachment(this._root,j),b("Arbiter").inform("ComposerXFilesStore/filesDropped/"+this._composerID+"/videoupload",{files:a},"persistent")):(b("ComposerXController").getAttachment(this._root,i),b("Arbiter").inform("ComposerXFilesStore/filesDropped/"+this._composerID+"/mediaupload",{files:a,method:c},"persistent"))};c._dropFiles=function(a){__p&&__p();var c=a.map(function(a){return new(b("Promise"))(function(c){a.type==="image/gif"&&b("ComposerXMediaUploadHandler").canUploadAnimatedGIF()?c(b("isAnimatedGif")(a)):a.type.match("video/*")?c(!0):c(!1)})});for(var d=0;d<c.length;d++)if(c[d]._value===!1){b("FirstPhotoUploadLogger").log(b("PagesComposerPostActionsLoggerEvent").DRAG_PHOTO_TO_COMPOSER,this._targetID,this._root);break}b("Promise").all(c).then(function(b){this.validateMediaTypes(b)&&this._uploadFiles(a,"dragdrop",b[0])}.bind(this))};c._onURLDrop=function(a){var c=new(h||(h=b("URI")))(k);c.addQueryData({scrape_url:encodeURIComponent(a)});b("ComposerXController").getAttachment(this._root,c.toString())};c.validateMediaTypes=function(a){__p&&__p();if(a.length>1){var c=!1,d=!1;for(var e=0;e<a.length;e++)a[e]?c=!0:d=!0;if(c&&d){b("ErrorDialog").show(g._("\u0e44\u0e21\u0e48\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e2d\u0e31\u0e1e\u0e42\u0e2b\u0e25\u0e14\u0e17\u0e31\u0e49\u0e07\u0e27\u0e34\u0e14\u0e35\u0e42\u0e2d\u0e41\u0e25\u0e30\u0e23\u0e39\u0e1b\u0e20\u0e32\u0e1e"),g._("\u0e42\u0e1b\u0e23\u0e14\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e27\u0e34\u0e14\u0e35\u0e42\u0e2d\u0e2b\u0e19\u0e36\u0e48\u0e07\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e2b\u0e23\u0e37\u0e2d\u0e23\u0e39\u0e1b\u0e20\u0e32\u0e1e\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e19\u0e49\u0e2d\u0e22\u0e2b\u0e19\u0e36\u0e48\u0e07\u0e20\u0e32\u0e1e"));return!1}}return!0};return a}();e.exports=a}),null);
__d("PagesComposerEntryLogger",["Event","PagesEventObserver"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this.$1=a}var c=a.prototype;c.registerForContentEntryEvents=function(a){var c=function(){var a={page_id:this.$1,event_name:"composer_content_entry",pages_composer:1,target_id:this.$1};b("PagesEventObserver").logData_DEPRECATED(a,b("PagesEventObserver").VITAL_WAIT);this.unregister()};this.$2=b("Event").listen(a,{paste:c.bind(this),keydown:c.bind(this)})};c.unregister=function(){if(!this.$2)return;for(var a in this.$2)this.$2[a].remove();this.$2=null};return a}();e.exports=a}),null);
__d("XPrivacyRemindersDismissController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/privacy/reminders/dismiss/",{type:{type:"String",required:!0},log_plite:{type:"Bool",defaultValue:!1}})}),null);
__d("XPrivacyRemindersImpressionLoggingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/privacy/reminders/log_imp/",{type:{type:"String",required:!0}})}),null);
__d("ComposerXBootloadStatusAttachment",["csx","cx","fbt","AggregatedGroupStoryComposerTypedLogger","Arbiter","AsyncRequest","Bootloader","ComposerXAttachment","ComposerXAttachmentButtonBarState","ComposerXAttachmentPrefillMixin","ComposerXAttachmentUtils","ComposerXController","ComposerXDragDrop","ComposerXDragDropUtils","ComposerXMarauderLogger","ComposerXStore","CSS","DOM","DOMQuery","Event","Focus","requireWeak","PageTransitions","PagesComposerEntryLogger","Parent","FocusListener","PrivacyConst","SelectorDeprecated","SubscriptionsHandler","URI","XUIError","classWithMixins","createCancelableFunction","getActiveElement","mixin","requestAnimationFrame","XPrivacyRemindersDismissController","XPrivacyRemindersImpressionLoggingController","XReactComposerLoggingODSController"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j,k;b("requireWeak")("LitestandStoryInsertionStatus",function(a){k=a});var l={only_me:{PRIVACY_CONSTANT:[(a=b("PrivacyConst")).BaseValue.SELF],LOG_IMPRESSION:"only_me_impression",LOG_CONVERSION:"only_me_conversion",LOG_IMPRESSION_TO_DISMISS_ENDPOINT:!0},everyone:{PRIVACY_CONSTANT:[a.BaseValue.EVERYONE],LOG_IMPRESSION:"everyone_impression",LOG_CONVERSION:"everyone_conversion",LOG_IMPRESSION_TO_DISMISS_ENDPOINT:!0},everyone_tests:{PRIVACY_CONSTANT:[a.BaseValue.EVERYONE],LOG_IMPRESSION:"everyone_tests_impression",LOG_CONVERSION:"everyone_tests_conversion",LOG_IMPRESSION_TO_DISMISS_ENDPOINT:!0},public_posting_filter_nux:{PRIVACY_CONSTANT:[a.BaseValue.EVERYONE],LOG_IMPRESSION:"public_posting_filter_nux_impression",LOG_CONVERSION:"public_posting_filter_nux_conversion",LOG_IMPRESSION_TO_DISMISS_ENDPOINT:!0}},m={};c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c){__p&&__p();var d;d=a.call(this)||this;d._onSelectorChange=function(a,b){if(!d.getComponent("mainprivacywidget"))return;(d._newPrivacyWidgetInstance||b.selector===d._privacyWidgetElement.firstChild)&&setTimeout(function(){Object.keys(d._privacyReminders).forEach(d._showPrivacyReminder,babelHelpers.assertThisInitialized(d))})};d._root=b;d._config=c;d._privacyReminders={};k&&k.registerBlocker(function(){return d._isFocused()});return d}var d=c.prototype;d.getRoot=function(){return this._root};d.getPrivacyInstance=function(){return this._newPrivacyWidgetInstance};d._getTextArea=function(){return b("DOMQuery").find(this.getComponent("maininput").element,"textarea.input")};d.initWithComponents=function(a){__p&&__p();m[this._composerID]=this;this._attachmentIsActive=!0;var c=this._getTextArea(),d=b("DOMQuery").scry(b("Parent").bySelector(this.getRoot(),"._119"),"li."+this.attachmentClassName)[0];this._focusListener=b("Event").listen(c,"focus",this._onFocus.bind(this,"area_focus"));this._config.prefill_text&&this._initPrefill(c,this._config.prefill_text);a&&this._config.targetIsPage&&(this._pagesComposerEntryLogger=new(b("PagesComposerEntryLogger"))(this._config.targetID),this._pagesComposerEntryLogger.registerForContentEntryEvents(c));this._fullVersion?this._fullInitWithComponents():this._bootloading||(this._isFocused()?this._onFocus("is_focused"):d&&(this._clickListener=b("Event").listen(d,"click",function(){b("Focus").set(c)}.bind(this))));this._dragEnterHandler=b("Arbiter").subscribe("dragenter",function(a,d){__p&&__p();if(d.element==this._root){b("Arbiter").inform("composerprivacy/aborteducation");a=d.event.dataTransfer.items;var e;a&&(e=b("ComposerXDragDropUtils").filterImages(a));if(e&&e.length>0)b("Focus").set(c);else{d=b("Parent").byClass(this._root,"focus_target");b("FocusListener").expandInput(d);this._onFocus("drag_focus")}}}.bind(this));this.getComponent("maininput").instance.setPlaceholder(this._config.mentionsPlaceholder);a||b("Focus").set(c);this._dragdrop=new(b("ComposerXDragDrop"))(this._root,this._composerID,this._config.targetID);this._dragdrop.enableURLDropping();this._initPrivacyWidgetInstance();this._config.postActionsButton!=null&&this._config.postActionsButton.initHiddenInputs(this.getComponent("pabhiddeninputs").instance);b("PageTransitions").registerHandler(this.cleanup.bind(this))};d._initPrivacyWidgetInstance=function(){__p&&__p();var a=this.getComponent("mainprivacywidget");if(!a)return;this._privacyWidgetElement=a.element;this._newPrivacyWidgetInstance=a.instance&&a.instance.getInstance().getInstance();if(this._newPrivacyWidgetInstance){a=this.getComponent("maininput").instance&&this.getComponent("maininput").instance.getMentions();var b=this.getComponent("tagExpansionButton");b&&b.instance&&b.instance.listenToPrivacy(this._newPrivacyWidgetInstance,a)}};d._fullInitWithComponents=function(a){this._bootloadCallback=b("createCancelableFunction")(this._bootloadModules.bind(this)),b("Bootloader").loadModules(["ComposerXPrivacyWidgetTags","URLScraper","SuggestionScraper"],this._bootloadCallback,"ComposerXBootloadStatusAttachment"),Object.keys(this._privacyReminders).forEach(this._showPrivacyReminder,this),this._setEveryonePrivacyImpression&&this._showPrivacyReminder("everyone"),this._newPrivacyWidgetInstance?this._newPrivacyWidgetInstance.subscribe("changed",this._onSelectorChange):b("SelectorDeprecated").subscribe("select",this._onSelectorChange),b("Arbiter").inform("ComposerXBootloadStatusAttachment/mutate")};d._bootloadModules=function(a,c,d){__p&&__p();this._modulesAreBootloaded=!0;this._tagger.init(this);this._privacyWidgetTags=new a(this);b("ComposerXAttachmentButtonBarState").trackCityChanges(this);a=b("DOMQuery").find(this.getComponent("maininput").element,"textarea.input");this._scraper||(this._scraper=new c(a),this._scraper.subscribe("match",function(a,c){a=this._getScraperEndpoint();a.addQueryData({scrape_url:encodeURIComponent(c.url),remove_url:this._config.remove_url,attachment_class:this._config.classname});c=this._config.isCarouselComposer;b("ComposerXController").getAttachment(this._root,a.toString(),null,c)}.bind(this)));this._scraper.enable();this._scraper.check();c=b("DOM").scry(this._root,"._4-jj");a=this.getComposerID();this._config.stream_context==="home"&&c&&c.length&&this._tagger&&a&&(this._suggestionScraper||(this._suggestionScraper=new d(this._tagger,c[0],[4,2,5],a),this._suggestionScraper.setBootloadTriggerConfig("composerentrybootstrap")))};d._showPrivacyReminder=function(a){__p&&__p();var c=this,d=this._privacyReminders[a],e=l[a],f;this._newPrivacyWidgetInstance?f=this._newPrivacyWidgetInstance.getSelectedBaseValue():f=parseInt(b("SelectorDeprecated").getValue(this._privacyWidgetElement),10);if(!d||!d.dialog||d.shown){f===b("PrivacyConst").BaseValue.EVERYONE&&this._setEveryonePrivacyImpression&&(this._sendSetEveryonePrivacyImpression(),this._setEveryonePrivacyImpression=!1);return}if(e.PRIVACY_CONSTANT.indexOf(f)===-1)return;d.dialog.setContext(this._privacyWidgetElement).show();d.shown=!0;this._privacyReminderShown=!0;if(e.LOG_IMPRESSION){f=b("XPrivacyRemindersImpressionLoggingController").getURIBuilder().setString("type",e.LOG_IMPRESSION).getURI();new(b("AsyncRequest"))(f).send()}if(e.LOG_IMPRESSION_TO_DISMISS_ENDPOINT)if(a==="only_me"){f=b("XPrivacyRemindersDismissController").getURIBuilder().setString("type",a).getURI();new(b("AsyncRequest"))(f).send()}else new(b("AsyncRequest"))("/ajax/privacy/reminders/dismiss").setData({type:a,dismiss_type:"impression"}).send();f=function(e){__p&&__p();var f=this,g=b("CSS").hasClass(e.target,"layerConfirm")||b("DOMQuery").scry(e.target,"^.layerConfirm").length===1;e=b("CSS").hasClass(e.target,"layerButton")||b("DOMQuery").scry(e.target,"^.layerButton").length===1;if(g&&a!=="public_posting_filter_nux"){if(a==="only_me"){g=b("XPrivacyRemindersImpressionLoggingController").getURIBuilder().setString("type","delta_everyone_ok_button_clicked").getURI();new(b("AsyncRequest"))(g).send()}return}if(a==="only_me"){g=b("XPrivacyRemindersDismissController").getURIBuilder().setString("type",a).getURI();new(b("AsyncRequest"))(g).send()}else new(b("AsyncRequest"))("/ajax/privacy/reminders/dismiss").setData({type:a,hide:e}).send();d.events.forEach(function(a){a.remove()});d.events=[];d.dialog.hide();this._privacyReminderShown=!1;e&&b("requestAnimationFrame")(function(){f._newPrivacyWidgetInstance?f._newPrivacyWidgetInstance.openSelector():b("SelectorDeprecated").toggle(b("DOMQuery").scry(c.getComponent("mainprivacywidget").element,".uiSelector")[0])})}.bind(this);this._newPrivacyWidgetInstance?d.conversionListener=this._newPrivacyWidgetInstance.subscribe("changed",function(a,b){a=this._newPrivacyWidgetInstance.getSelectedBaseValue();this._logPrivacyReminderConversion(d,e,a)}.bind(this)):d.conversionListener=b("SelectorDeprecated").subscribe("select",function(a,c){if(c.selector==this._privacyWidgetElement.firstChild){a=parseInt(b("SelectorDeprecated").getValue(c.option),10);this._logPrivacyReminderConversion(d,e,a)}}.bind(this));d.events=[b("Event").listen(d.dialog.getContent(),"click",f),b("Event").listen(d.dialog.getContext(),"click",f)]};d._logPrivacyReminderConversion=function(a,c,d){if(c.PRIVACY_CONSTANT.indexOf(d)===-1){if(c.LOG_CONVERSION){d=b("XPrivacyRemindersImpressionLoggingController").getURIBuilder().setString("type",c.LOG_CONVERSION).getURI();new(b("AsyncRequest"))(d).send()}this._newPrivacyWidgetInstance?this._newPrivacyWidgetInstance.unsubscribe(a.conversionListener):b("SelectorDeprecated").unsubscribe(a.conversionListener);a.conversionListener=null}};d.cleanup=function(){__p&&__p();var a=this;this._attachmentIsActive=!1;this._focusListener&&(this._focusListener.remove(),this._focusListener=null);this._clickListener&&(this._clickListener.remove(),this._clickListener=null);Object.keys(l).forEach(function(c){c=a._privacyReminders[c];c&&c.dialog&&c.shown&&(c.dialog.hide(),c.events.forEach(function(a){a.remove()}),c.events=[],c.conversionListener&&(a._newPrivacyWidgetInstance?a._newPrivacyWidgetInstance.unsubscribe(c.conversionListener):b("SelectorDeprecated").unsubscribe(c.conversionListener)),c.conversionListener=null)});this._dragdrop&&(this._dragdrop.deactivate(),this._dragdrop=null);this._modulesAreBootloaded&&(this._tagger.cleanup(),this._privacyWidgetTags&&(this._privacyWidgetTags.destroy(),this._privacyWidgetTags=null),this._scraper.disable());this._bootloadCallback&&(this._bootloadCallback.cancel(),this._bootloadCallback=null);this._dragEnterHandler&&(this._dragEnterHandler.unsubscribe(),this._dragEnterHandler=null);this._pagesComposerEntryLogger&&this._pagesComposerEntryLogger.unregister()};d.reset=function(){var a=b("Parent").bySelector(this._root,".child_was_focused");a&&b("CSS").removeClass(a,"child_was_focused");this._tagger&&this._tagger.reset();this._scraper&&this._scraper.reset();this._newPrivacyWidgetInstance&&this._newPrivacyWidgetInstance.informTagsChanged([]);this.getComponent("maininput").instance.setPlaceholder(this._config.mentionsPlaceholder);this._config.prefill_text&&this._resetPrefill()};d.canSwitchAway=function(){return!b("Parent").byClass(this._root,"async_saving")};d.bootloadAttachments=function(){if(this._bootloading)return;this._bootloading=!0;b("ComposerXController").getEndpoint(this._root,"/ajax/composerx/attachment/status/bootload/",!0)};d.setBootloadedContent=function(a){__p&&__p();var c=this;this._bootloading=!1;this._setEveryonePrivacyImpression=!!a.set_everyone_privacy_impression;Object.keys(l).forEach(function(b){var d=a[b+"_privacy_reminder"];d&&(c._privacyReminders[b]={dialog:d})});if(a.markup.privacy_widget){var d=b("DOMQuery").find(this._root,"._etn");b("DOM").setContent(d,a.markup.privacy_widget);d=b("DOMQuery").find(this._root,"._1dwm");d&&(d.disabled=!1,b("CSS").removeClass(d,"_42fr"))}d=a.placeholders.map(function(a){return a.component_name});b("ComposerXStore").waitForComponents(this._composerID,d,function(){__p&&__p();var c=b("DOMQuery").find(this._root,"._3-6"),d=b("DOMQuery").find(this._root,"._3-7");b("DOM").setContent(c,a.markup.tagger_content);b("DOM").setContent(d,a.markup.tagger_icons);a.markup.privacy_widget&&this._initPrivacyWidgetInstance();b("ComposerXController").addPlaceholders(this._root,this,a.placeholders);this._tagger=a.tagger;b("ComposerXAttachmentButtonBarState").updateMessageBoxBarState(this);this._fullVersion=!0;this._attachmentIsActive&&this._fullInitWithComponents(a);b("ComposerXAttachmentUtils").registerMentionsForComposerCancel(this.getComponent("maininput"),this.getComposerID())}.bind(this));d=b("XReactComposerLoggingODSController").getURIBuilder().setString("event","bootload_done").setEnum("composer_type","legacy_feed").getURI();new(b("AsyncRequest"))(d).send()};d._getScraperEndpoint=function(){return new(j||(j=b("URI")))("/ajax/composerx/attachment/link/scraper/")};d._isFocused=function(){return b("DOMQuery").contains(this._root,b("getActiveElement")())};d._isEditing=function(){return this._isFocused()||this.getComponent("maininput").instance.hasChanges()};d._onFocus=function(a){this._config.is_group_aggregated_story&&a==="area_focus"&&new(b("AggregatedGroupStoryComposerTypedLogger"))().setEvent("click").log();b("ComposerXMarauderLogger").logEntry(this._composerID);this._prefillOnFocus();if(this._fullVersion||this._bootloading)return;b("Arbiter").inform("composer/focus",this._composerID);b("Arbiter").inform("composer/render_pab_nux");this.bootloadAttachments()};d.allowOGTagPreview=function(){return!0};d._sendSetEveryonePrivacyImpression=function(){new(b("AsyncRequest"))("/ajax/privacy/reminders/set_everyone_privacy_impression").send()};d.onEmptyStatusCallback=function(){var a=this,c=this._getTextArea();b("Focus").set(c);b("XUIError").set({target:c,message:i._("\u0e01\u0e32\u0e23\u0e2d\u0e31\u0e1e\u0e40\u0e14\u0e15\u0e2a\u0e16\u0e32\u0e19\u0e30\u0e19\u0e35\u0e49\u0e22\u0e31\u0e07\u0e27\u0e48\u0e32\u0e07\u0e2d\u0e22\u0e39\u0e48 \u0e42\u0e1b\u0e23\u0e14\u0e40\u0e02\u0e35\u0e22\u0e19\u0e02\u0e49\u0e2d\u0e04\u0e27\u0e32\u0e21\u0e43\u0e14\u0e46 \u0e2b\u0e23\u0e37\u0e2d\u0e41\u0e19\u0e1a\u0e25\u0e34\u0e07\u0e01\u0e4c\u0e2b\u0e23\u0e37\u0e2d\u0e23\u0e39\u0e1b\u0e20\u0e32\u0e1e\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e2d\u0e31\u0e1e\u0e40\u0e14\u0e15\u0e2a\u0e16\u0e32\u0e19\u0e30\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13"),position:"below",alignh:"left"});new(b("SubscriptionsHandler"))().addSubscriptions(b("Event").listen(this.getRoot(),"success",function(){b("XUIError").clear(a._getTextArea())}),b("Arbiter").subscribe("composer/publish",function(c,d){if(d.composer_id!=a.getComposerID())return;b("XUIError").clear(a._getTextArea())}))};c.setBootloadedContent=function(a,b){a=m[a];a&&a.setBootloadedContent.call(a,b)};c.onEmptyStatusListener=function(a){a=m[a];a&&a.onEmptyStatusCallback.call(a)};return c}(b("classWithMixins")(b("ComposerXAttachment"),b("mixin")(b("ComposerXAttachmentPrefillMixin"))));Object.assign(c.prototype,{_attachmentIsActive:!1,_bootloading:!1,_modulesAreBootloaded:!1,_fullVersion:!1,_focusListener:null,_privacyWidgetTags:null,_scraper:null,_dragdrop:null,_bootloadCallback:null,attachmentClassName:"_4j"});e.exports=c}),null);
__d("ComposerXMentionsInputReset",["DOMQuery","Input"],(function(a,b,c,d,e,f){function a(a){var c=b("DOMQuery").scry(a.element,"textarea.input")[0];a.instance.reset();b("Input").reset(c)}e.exports=a}),null);
__d("ComposerXOGTaggerIconReset",["cx","CSS"],(function(a,b,c,d,e,f,g){function a(a){b("CSS").removeClass(a.element,"_4-jh"),b("CSS").removeClass(a.element,"_509o")}e.exports=a}),null);
__d("ComposerXPrivacyWidgetReset",["Arbiter"],(function(a,b,c,d,e,f){function a(a){b("Arbiter").inform("Composer/changedtags",{withTags:[],mention:{}})}e.exports=a}),null);
__d("ComposerXTaggerIconReset",["cx","CSS"],(function(a,b,c,d,e,f,g){function a(a){b("CSS").removeClass(a.element,"_1dsa"),b("CSS").removeClass(a.element,"_1dsb"),b("CSS").removeClass(a.element,"_509o")}e.exports=a}),null);
__d("ComposerXPostSubmitButtonActions",["cx","Arbiter","CSS"],(function(a,b,c,d,e,f,g){a=function(a){"use strict";b("Arbiter").subscribe("composer/disablePostButton",function(c,d){d.disabled?b("CSS").addClass(a,"_2dha"):b("CSS").removeClass(a,"_2dha")})};e.exports=a}),null);